# Experiment Results: Comparing EPA Policy Libraries and OpenAI Models (4o vs 4o-mini)

This folder contains the results of experiments performed on two different policy libraries from the EPA, comparing their readability and comprehensiveness for NIST 800-53 security control compliance. The experiments also involve testing two OpenAI models, **GPT-4o** and **GPT-4o-mini**, to assess their performance in identifying and evaluating security controls in the policy documents.

## Contents of the Folder

1. **EPA Control Evaluation 4o Output.txt**
   - This file contains the XML output generated by the CrewAI workflow when analyzing the original EPA policy library (`EPA_Policy_Example`) using the **GPT-4o** model. It details whether the security controls were identified and how many control parameters were found for each NIST 800-53 control tested.

2. **EPA Control Evaluation 4o-mini Output.txt**
   - This file holds the XML output from the CrewAI workflow when analyzing the original EPA policy library using the smaller **GPT-4o-mini** model. It similarly shows the identification of NIST 800-53 controls and the parameters found.

3. **Simple English Control Evaluation 4o Output.txt**
   - In this file, the **GPT-4o** model was used to evaluate a simplified version of the EPA policy library (`EPA_Simple_English`). This version of the library was rewritten at a high school reading level using GPT-4o. The XML output details which controls were identified and how many parameters were matched.

4. **Simple English Control Evaluation 4o-mini Outputs.txt**
   - This file contains the XML output from the **GPT-4o-mini** model when evaluating the simplified EPA policy library. It shows the identified NIST 800-53 controls and the parameters found.

5. **Results comparison 4o-mini vs 4o and EPA vs Simple English.xlsx**
   - This spreadsheet presents a detailed comparison of the results from the different experiments. For each tested NIST 800-53 control, the spreadsheet includes:
     - The control name.
     - Whether the CrewAI workflow found the control in the policy library.
     - The number of control parameters found by the AI workflow.
     - A visual inspection of the control to determine if it exists and how many control parameters can be identified manually.

## Experimental Setup

### Policy Libraries

- **EPA_Policy_Example**: This is a collection of policy documents published by the EPA, representing complex, formal policy language.
- **EPA_Simple_English**: This is a simplified version of the original EPA policy library. It was generated by asking GPT-4o to rewrite the documents at a high school reading level, making it easier to understand.

### Models Tested

- **GPT-4o**: A robust and larger version of the GPT-4 family, expected to perform better in terms of reasoning and document understanding.
- **GPT-4o-mini**: A smaller, faster version of GPT-4, used to test if a lightweight model can still perform reasonably well in identifying security controls.

### Experiment Goals

The goal of this experiment is to evaluate how effectively the two models (GPT-4o and GPT-4o-mini) can identify NIST 800-53 controls within different versions of EPA policy libraries and to compare their results against manual inspection. In addition, the experiment investigates the potential benefits of simplifying the language of policy documents without losing critical compliance information.

### Key Analysis Metrics

- **Control Identification**: Whether the workflow was able to find the NIST 800-53 control in the policy library.
- **Control Parameters**: How many of the control's parameters (e.g., sub-controls or specific requirements) were identified in the document by the workflow.
- **Model Performance Comparison**: Comparing the effectiveness of the GPT-4o and GPT-4o-mini models in processing the same policies.
- **Language Simplification Impact**: Assessing whether the simplified, easier-to-read versions of the policy documents still retain the necessary information to meet compliance requirements.

## Findings

### Control Identification

- **Explicit Controls**: When a NIST SP 800-53 control was explicitly present in the EPA policy documents, the CrewAI workflow—whether using GPT-4o or GPT-4o-mini—successfully identified the control and provided evidence that the control was satisfied. This demonstrates that the workflow is effective at retrieving relevant information when the control is clearly stated in the document.

### Parameter Identification

- **GPT-4o vs GPT-4o-mini**: The **GPT-4o** model consistently performed better than **GPT-4o-mini** at identifying and enumerating the parameters within the controls. In cases where the control text specified parameters (e.g., "[frequency of audit]"), GPT-4o more accurately found and listed these parameters in the policy documents.
  
- **Making Up Parameters**: Both GPT-4o and GPT-4o-mini occasionally introduced parameters that were not present in the original NIST SP 800-53 control. This behavior suggests that while the models are good at identifying explicit parameters, additional steps may be necessary to ensure accuracy and prevent the model from fabricating information when the control is incomplete or ambiguous in the policy document.

### Language Simplification Impact

- **Performance on Simple English Documents**: When evaluating the simplified "Simple English" version of the EPA policy library, GPT-4o performed slightly better than GPT-4o-mini in identifying controls. However, because the simplified documents omitted some process details, both models flagged more ambiguous or incomplete parameter matches in the simpler versions. This demonstrates that while simplified documents can aid readability, they may risk leaving out critical details needed for full compliance assessments.

### Overall Workflow Performance

- **Vector Database Effectiveness**: Using a vector database (Pinecone) to store and retrieve document segments based on control text queries worked very well. The search process efficiently returned relevant sections of policy documents, which were then analyzed by the models.
  
- **CrewAI Workflow**: The CrewAI workflow effectively identified NIST SP 800-53 controls using both GPT-4o and GPT-4o-mini. However, improvements could be made in the workflow to prevent the models from making up parameters and ensure that each identified parameter is properly verified against the document.

## Conclusion

The results of these experiments show that the CrewAI workflow, combined with GPT-4o and GPT-4o-mini, is a powerful tool for automating the evaluation of policy documents against NIST 800-53 controls. GPT-4o generally outperforms GPT-4o-mini, particularly in parameter identification and language comprehension. The experiments also highlight the potential for using simplified policy documents to aid understanding, though care must be taken to retain necessary details for compliance. Future improvements to the workflow could focus on enhancing parameter detection accuracy and reducing the risk of fabricated parameters.

